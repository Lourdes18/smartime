{% extends "alarms/_navbaralarm.html" %}
{% load staticfiles %}

{% block content %}

<meta charset="UTF-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">


<!-- bootstrap -->
<link rel="stylesheet" href="{% static 'assets/bootstrap/css/bootstrap.min.css'  %}" />

<!-- animate.css -->
<link rel="stylesheet" href="{% static 'assets/animate/animate.css'  %}" />
<link rel="stylesheet" href="{% static 'assets/animate/set.css'  %}" />

<!-- gallery -->
<link rel="stylesheet" href="{% static 'assets/gallery/blueimp-gallery.min.css'  %}">

<link rel="stylesheet" href="{% static 'assets/style.css'  %}">
<script src="{% static 'jsListas/js/modernizr.js' %}"></script> <!-- Modernizr -->

        
        <div>
		        <div class="post">
		        	<h2>{{ event.title_event }}</h2>
		        	<a class="btn btn-default" href="{% url 'edit_event' pk=event.pk %}"><span class="glyphicon glyphicon-pencil"></span></a>
		        	<a class="btn btn-default" href="{% url 'remove_event' pk=event.pk %}"><span class="glyphicon glyphicon-remove"></span></a>
		        </div>
		    </div>

		    <div class="page-header">
  				<p>Fecha:{{ event.date_event }} | Hora: {{ event.time_event }} </p>
  				<p>Lugar: {{ event.place_event }} | Duracion: {{ event.duration_event }}</p>
			</div>

        <input id="pac-input" class="controls" type="text" placeholder="Search Box" value="{{ event.place_event }}" >
            <div class="map"></div>
        <br>
		    <div id="demo">

			  <!-- Responsive table starts here -->
			  <!-- For correct display on small screens you must add 'data-title' to each 'td' in your table -->
			  <div class="table-responsive-vertical shadow-z-1">
			  <!-- Table starts here -->
			  <table id="table" class="table table-hover table-mc-light-blue text-center">
			      <thead>
			        <tr>
			              <td>Tarea</td>
			              <td>Descripcion</td>
			              <td>Prioridad</td>
			        </tr>
			      </thead>
			      <tbody>
			        {% for homework in homeworks %}
			        <tr>
			          <td data-title="Name">{{ homework.title_homework }}</td>
			          <td data-title="Name">{{ homework.description_homework }}</td>
			          <td data-title="Name">{{ homework.get_priority_homework_display }}</td>
			        </tr>
			        {% endfor %}
			      </tbody>
			    </table>
			</div>
			</div>

<!-- jquery -->
<script src="{% static 'assets/jsListas/jquery.js'  %}"></script>

<!-- wow script -->
<script src="{% static 'assets/wow/wow.min.js'  %}"></script>


<!-- boostrap -->
<script src="{% static 'assets/bootstrap/js/bootstrap.js'  %}" type="text/javascript" ></script>

<!-- jquery mobile -->
<script src="{% static 'assets/mobile/touchSwipe.min.js'  %}"></script>
<script src="{% static 'assets/respond/respond.js'  %}"></script>

<!-- gallery -->
<script src="{% static 'assets/gallery/jquery.blueimp-gallery.min.js'  %}"></script>

<!-- custom script -->
<script src="{% static 'assets/jsListas/script.js'  %}"></script>

        <script>
          // This example adds a search box to a map, using the Google Place Autocomplete
          // feature. People can enter geographical searches. The search box will return a
          // pick list containing a mix of places and predicted search terms.

          // This example requires the Places library. Include the libraries=places
          // parameter when you first load the API. For example:
          // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">

          function initAutocomplete() {
            var map = new google.maps.Map(document.getElementById('map'), {
              center: {lat: 4.7110, lng: -74.0721},
              zoom: 13,
              mapTypeId: 'roadmap'
            });

            // Create the search box and link it to the UI element.
            var input = document.getElementById('pac-input');
            var searchBox = new google.maps.places.SearchBox(input);
            map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);

            // Bias the SearchBox results towards current map's viewport.
            map.addListener('bounds_changed', function() {
              searchBox.setBounds(map.getBounds());
            });

            var markers = [];
            // Listen for the event fired when the user selects a prediction and retrieve
            // more details for that place.
            searchBox.addListener('places_changed', function() {
              var places = searchBox.getPlaces();

              if (places.length == 0) {
                return;
              }

              // Clear out the old markers.
              markers.forEach(function(marker) {
                marker.setMap(null);
              });
              markers = [];

              // For each place, get the icon, name and location.
              var bounds = new google.maps.LatLngBounds();
              places.forEach(function(place) {
                if (!place.geometry) {
                  console.log("Returned place contains no geometry");
                  return;
                }
                var icon = {
                  url: place.icon,
                  size: new google.maps.Size(71, 71),
                  origin: new google.maps.Point(0, 0),
                  anchor: new google.maps.Point(17, 34),
                  scaledSize: new google.maps.Size(25, 25)
                };

                // Create a marker for each place.
                markers.push(new google.maps.Marker({
                  map: map,
                  icon: icon,
                  title: place.name,
                  position: place.geometry.location
                }));

                if (place.geometry.viewport) {
                  // Only geocodes have viewport.
                  bounds.union(place.geometry.viewport);
                } else {
                  bounds.extend(place.geometry.location);
                }
              });
              map.fitBounds(bounds);
            });
          }

        </script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDK7coSSY-TePCAy2m_PO7ym0OnsZtGQ_g&libraries=places&callback=initAutocomplete"
         async defer></script>

{% endblock %}